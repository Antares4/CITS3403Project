{% extends 'content.html'%}

{% block page %}
<div class="textcontent">
  <p>
    Now with a stave to work with , we are able to add some <strong>notes</strong>.
    <hr>
    In western music notation, <strong>notes</strong> are named cyclically useing the Alphabets 
    <strong>[A-G]</strong>. 
    <hr>
    For each step up the stave, the note incriments alphabetically(decrements stepping down the stave).
    Identical notes of the next/previous cycle essentially represent the same note but an octive higher/Lower. 
    <hr>
  </p>

</div>
  <div class="canvascontainer">
    <div id="notes"></div>
</div>
<p>
  <hr>
  but there's more......
</p>
  <div class="slidingWindow">
    <span id="down"> &lt </span><span id="display" style="width: 10px;"></span><span id="up"> &gt </span>
  </div>
  <div class="pagebutton">
    <span id="previous"> <a href="{{url_for('index.notes', chapter='chapter1', page='page2')}}"> &lt</a> </span>
    <span id="next"> <a href="{{url_for('index.notes', chapter='chapter1', page='page4')}}">&gt</a> </span>
  </div>
  <script>
       $(document).ready(function(){
        const basicnotes = ["c/4","d/4","e/4","f/4","g/4","a/4","b/4","c/5","d/5","e/5","f/5","g/5","a/5","b/5"]
        var position = 6;
        init("notes", "treble", "4/4");
        addnote("treble", basicnotes[position], ["q"]);
        $("#display").text(basicnotes[position]);
        $("#down").bind('click',function(){
            console.log("clicked");
            if(position == basicnotes.length-1){
                $('#up').css("display", "inline");
            }
            if(position > 0 ){
                position--;
                console.log("movedown",position)
                removestave("notes");
                init("notes", "treble", null);
                addnote("treble", basicnotes[position], ["q"]); 
                $("#display").text(basicnotes[position])
            }
            if(position == 0){
                $('#down').css("display", "none");
            }
        })
        $("#up").bind('click',function(){
            console.log("up")
            if(position == 0){
                $('#down').css("display", "inline");
            }
            if(position < basicnotes.length-1){
                position++;
                console.log("moveup",position)
                removestave("notes")
                init("notes", "treble", null);
                addnote("treble", basicnotes[position], ["q"]);  
                $("#display").text(basicnotes[position])
            }
            if(position == basicnotes.length-1){
                $('#up').css("display", "none");
            }
            
        })
        });
  </script>
  {% endblock %}